<!-- ko if: $root.showDialogGallery() -->
<!-- should use ui-dialog -->
<aside id="dialogGallery" class="mo">
  <div
    class="tabs_horizontal"
    data-bind="tabs: { active: $root.selectedImageTab }"
  >
    <div class="close" data-bind="click: $root.closeDialogGallery;">X</div>
    <ul>
      <li data-bind="tooltips: {}">
        <a
          title="gallery-mailing"
          data-local="true"
          href="#dialoggallerymailing"
          data-bind="attr: { title: $root.t('gallery-mailing') }, text: $root.t('gallery-mailing')"
        >
          gallery-mailing
        </a>
      </li>
      <li data-bind="tooltips: {}">
        <a
          title="gallery-template"
          data-local="true"
          href="#dialoggallerytemplate"
          data-bind="attr: { title: $root.t('gallery-template') }, text: $root.t('gallery-template')"
        >
          gallery-template
        </a>
      </li>
    </ul>

    <div id="dialoggallerymailing" class="gallery-panel">
      <!-- ko template: {name: 'gallery-upload', data: { type: 'mailing' } } -->#
      mailing gallery fileupload #<!-- /ko -->
      <!-- ko if: $root.mailingGalleryStatus() === false --><a
        class="loadbutton"
        title="Show images from the gallery"
        href="javascript:void(0)"
        data-bind="attr: { title: $root.t('Show images from the gallery') }, click: $root.loadMailingGallery, button: { disabled: $root.mailingGalleryStatus, icons: { primary: 'fa fa-fw fa-picture-o' }, label: $root.mailingGalleryStatus() == 'loading' ? $root.t('Loading...') : $root.t('Load gallery'), text: true }"
        ># load gallery #</a
      ><!-- /ko -->

      <!-- ko if: $root.mailingGalleryStatus() === 'loading' -->
      <div
        class="galleryEmpty"
        data-bind="text: $root.t('gallery-mailing-loading')"
      >
        Loading mailing galleryâ€¦
      </div>
      <!-- /ko -->
      <!-- ko if: $root.mailingGalleryStatus() === 0 -->
      <div
        class="galleryEmpty"
        data-bind="text: $root.t('gallery-mailing-empty')"
      >
        The mailing gallery is empty
      </div>
      <!-- /ko -->
      <div class="dialog-gallery-wrapper">
        <ul data-bind="foreach: mailingGallery">
          <!-- ko if: typeof thumbnailUrl != 'undefined' -->
          <li data-bind="click: $root.setBgImage.bind($element, name), style: { backgroundImage: 'url(' + thumbnailUrl + ')'  }" style="background-size: cover;">
          </li>
          <!-- /ko -->
        </ul>
      </div>
    </div>

    <div id="dialoggallerytemplate" class="gallery-panel">
      <!-- ko template: {name: 'gallery-upload', data: { type: 'template' } } -->#
      mailing template fileupload #<!-- /ko -->
      <!-- ko if: $root.templateGalleryStatus() === false --><a
        class="loadbutton"
        title="Show images from the gallery"
        href="javascript:void(0)"
        data-bind="attr: { title: $root.t('Show images from the gallery') }, click: $root.loadTemplateGallery, button: { disabled: $root.templateGalleryStatus, icons: { primary: 'fa fa-fw fa-picture-o' }, label: $root.templateGalleryStatus() == 'loading' ? $root.t('Loading...') : $root.t('Load gallery'), text: true }"
        ># load gallery #</a
      ><!-- /ko -->

      <!-- ko if: $root.templateGalleryStatus() === 'loading' -->
      <div
        class="galleryEmpty"
        data-bind="text: $root.t('gallery-mailing-loading')"
      >
        Loading template gallery...
      </div>
      <!-- /ko -->
      <!-- ko if: $root.templateGalleryStatus() === 0 -->
      <div
        class="galleryEmpty"
        data-bind="text: $root.t('gallery-mailing-empty')"
      >
        The template gallery is empty
      </div>
      <!-- /ko -->
      <div class="dialog-gallery-wrapper">
        <ul data-bind="foreach: templateGallery">
          <!-- ko if: typeof thumbnailUrl != 'undefined' -->
           <li data-bind="click: $root.setBgImage.bind($element, name), style: { backgroundImage: 'url(' + thumbnailUrl + ')'  }" style="background-size: cover;">
          </li>
          <!-- /ko -->
        </ul>
      </div>
    </div>
  </div>
</aside>
<!-- /ko -->
